<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cottontail - Innovation Numérique</title>
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Spline+Sans:wght@300;400;500;600;700&family=Noto+Sans:wght@400;500;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" rel="stylesheet" />
    
    <!-- External CSS - Utilisation de ./ pour forcer le chemin relatif -->
    <link rel="stylesheet" href="./styles.css">
<script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@^19.2.3",
    "react/": "https://esm.sh/react@^19.2.3/"
  }
}
</script>
<link rel="stylesheet" href="/index.css">
</head>
<body>

    <header id="header">
        <div class="container header-inner">
            <div class="logo">
                <img src="./logo/dessin.svg" alt="Cottontail" class="logo-image logo-mobile" />
                <img src="./images/logo_complet.png" alt="Cottontail" class="logo-image logo-desktop" />
            </div>
            <nav class="main-nav">
                <a href="#hero" class="nav-link active" data-color="blue">Accueil</a>
                <a href="#expertise" class="nav-link" data-color="orange">Expertise</a>
                <a href="#vision" class="nav-link" data-color="yellow">Vision</a>
            </nav>

            <!-- Mobile Navigation Cube -->
            <div class="mobile-nav-cube" id="mobileNavCube">
                <div class="cube-container">
                    <div class="cube" id="navCube">
                        <div class="cube-face cube-face-front" data-section="hero" data-color="blue">Accueil</div>
                        <div class="cube-face cube-face-bottom" data-section="expertise" data-color="orange">Expertise</div>
                        <div class="cube-face cube-face-back" data-section="vision" data-color="yellow">Vision</div>
                        <div class="cube-face cube-face-top" data-section="hero" data-color="blue">Accueil</div>
                    </div>
                </div>
            </div>
            <a href="#contact" class="btn-contact">Contact</a>
        </div>
    </header>

    <main>
        <section class="hero" id="hero">
            <div class="container">
                <h1>L'Innovation Numérique,<br><span class="blue">Simplifiée.</span></h1>
                <p>Nous transformons vos idées complexes en expériences digitales fluides et intuitives.</p>
                
                <div class="carousel-wrapper">
                    <div class="carousel-container" id="carousel">
                        <!-- Project 1 -->
                        <div class="project-card">
                            <div class="card-bg" style="background-image: url('https://lh3.googleusercontent.com/aida-public/AB6AXuBxrJaODiYYQarbG1ZX2rii6g2kTQsYLSa2g_wZ6n6VA-FH2lXsTtr-4NwiswMOY_U37hB6uUWMx7kDjxK8eMxX3i5QB5S_TDJC5IAdfLnW2WaoX5NWjtKkv4LS7b4p-Xn7YVSc5hThPqlwc9uXSqrkRkN3wvUAjWkrJ-RpX9wggC1VEBUCSHWmWFQx342qqcF1PfO9rCY0ETCF4aRGTmjplkdGJmmgWCRNYiKlif6aqXTLusSN4dEKXJu543hfAQQQFrd-YZTN2k2z');"></div>
                            <div class="card-overlay"></div>
                            <div class="card-content">
                                <div class="card-text">
                                    <h3>Projet Alpha</h3>
                                    <p>Design UI/UX</p>
                                </div>
                                <div class="icon-circle">
                                    <span class="material-symbols-outlined">arrow_outward</span>
                                </div>
                            </div>
                        </div>
                        <!-- Project 2 -->
                        <div class="project-card">
                            <div class="card-bg" style="background-image: url('https://lh3.googleusercontent.com/aida-public/AB6AXuB_7Kt9mnP0xoj2zPXDDVvTaafS3NUOEwpXL1pgHwIjeNTguaho56Y3ABu14CHaEgd0oku7D30saL9VUp3d2kPvuvtUVIswbyVB7MrFNrdN4KJBu0CPhvQ_Z4IRMbswIbS_JD2w2GkxVLC8pcMckeCpvbd_0KJiOSHW0DtZ-lwSEfJ2DNgCPsV9UYqGMi-VdUkFUa-kB4Mq56IyYLKulgCm-lomRkJO3Bo4hnnxFsTGuvTE2IhwUTsj2FL3XaLNGSli1eQ_-fEgUZbA');"></div>
                            <div class="card-overlay"></div>
                            <div class="card-content">
                                <div class="card-text">
                                    <h3>Projet Beta</h3>
                                    <p>Développement Web</p>
                                </div>
                                <div class="icon-circle">
                                    <span class="material-symbols-outlined">arrow_outward</span>
                                </div>
                            </div>
                        </div>
                        <!-- Project 3 -->
                        <div class="project-card">
                            <div class="card-bg" style="background-image: url('https://lh3.googleusercontent.com/aida-public/AB6AXuB2N4ZIRjG71rT4FQA3x_rLg5e7TD3Cc6FXbVAzVMiVfi51AOJyMO8ZZGY66P7LilWFb_73VGcIJWBZLkJN8t_TPS5T8ss8zTwLT1SeXUypPnjwXsy9MKVsp_kgEHJkK7IqiSokuVE_9nBZhmp6EuDwvc3FNXU08xDRYH6pbdh0Por4C6SSK0_eVkOUatFB0kO6sXXQDhF3FHayucup_QC0j_608B9ImKP3PgCb25lYotg8HUW9B6xudkwih1vKxsCf0OLsM6Ld5hCS');"></div>
                            <div class="card-overlay"></div>
                            <div class="card-content">
                                <div class="card-text">
                                    <h3>Projet Gamma</h3>
                                    <p>Application Mobile</p>
                                </div>
                                <div class="icon-circle">
                                    <span class="material-symbols-outlined">arrow_outward</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="carousel-controls">
                        <button class="nav-btn nav-prev" onclick="scrollCarousel(-1)">
                            <span class="material-symbols-outlined">arrow_back_ios_new</span>
                        </button>
                        <div class="dots" id="dots-container">
                            <div class="dot active" onclick="scrollToIndex(0)"></div>
                            <div class="dot" onclick="scrollToIndex(1)"></div>
                            <div class="dot" onclick="scrollToIndex(2)"></div>
                        </div>
                        <button class="nav-btn nav-next" onclick="scrollCarousel(1)">
                            <span class="material-symbols-outlined">arrow_forward_ios</span>
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <section class="expertise" id="expertise">
            <h2 class="section-title">Expertise,<br>On vous accompagne<br><span class="orange">de A à Z</span></h2>
            
            <div class="timeline">
                <!-- Tile 1: Étude / Audit -->
                <div class="step-tile">
                    <div class="step-tile-bg" style="background-image: url('./images/audit.webp');"></div>
                    <div class="step-tile-overlay"></div>
                    <div class="step-tile-content">
                        <h3>Étude / Audit</h3>
                    </div>
                </div>

                <!-- Tile 2: Conception -->
                <div class="step-tile">
                    <div class="step-tile-bg" style="background-image: url('./images/conception.jpg');"></div>
                    <div class="step-tile-overlay"></div>
                    <div class="step-tile-content">
                        <h3>Conception</h3>
                    </div>
                </div>

                <!-- Tile 3: Réalisation -->
                <div class="step-tile">
                    <div class="step-tile-bg" style="background-image: url('./images/realisation.jpeg');"></div>
                    <div class="step-tile-overlay"></div>
                    <div class="step-tile-content">
                        <h3>Réalisation</h3>
                    </div>
                </div>
            </div>

            <button class="btn-cta">
                <span>Voir exemple concret</span>
                <span class="material-symbols-outlined" style="font-size: 20px;">arrow_forward</span>
            </button>
        </section>

        <section class="vision" id="vision">
            <div class="container">
                <div style="text-align: center; max-width: 800px; margin: 0 auto;">
                    <h2 class="section-title" style="margin-bottom: 1.5rem;">Une Vision <span class="yellow">Élargie</span></h2>
                    <p style="color: var(--color-text-secondary);">Notre expertise ne s'arrête pas à un écran. Nous concevons des écosystèmes complets qui s'adaptent à tous les usages de vos utilisateurs.</p>
                </div>

                <div class="vision-grid">
                    <div class="vision-card">
                        <div class="vision-icon">
                            <span class="material-symbols-outlined" style="font-size: 32px;">devices</span>
                        </div>
                        <h3>Multi-Support</h3>
                        <p>Web, Mobile & Tablette</p>
                    </div>
                    <div class="vision-card">
                        <div class="vision-icon">
                            <span class="material-symbols-outlined" style="font-size: 32px;">cloud_sync</span>
                        </div>
                        <h3>Cloud Native</h3>
                        <p>Scalabilité & Performance</p>
                    </div>
                    <div class="vision-card">
                        <div class="vision-icon">
                            <span class="material-symbols-outlined" style="font-size: 32px;">security</span>
                        </div>
                        <h3>Sécurité</h3>
                        <p>Protection des Données</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="contact" id="contact">
            <div class="contact-header">
                <h2>Parlons de votre projet.</h2>
                <p>Une idée, un besoin ? Nous sommes là pour vous accompagner.</p>
            </div>

            <div class="bento-grid">
                <!-- Grande carte Map - occupe 2 colonnes -->
                <div class="bento-card bento-map">
                    <img src="./images/Icone.PNG" alt="Cottontail" class="bento-map-image">
                    <iframe
                        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d166.30304912080229!2d6.451889037412049!3d48.17099556282759!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x4793a08efd32d2f5%3A0x6b697bf99e10bb8d!2s5%20Rue%20des%20Jardiniers%2C%2088000%20%C3%89pinal!5e0!3m2!1sfr!2sfr!4v1765880135382!5m2!1sfr!2sfr"
                        allowfullscreen=""
                        loading="lazy"
                        referrerpolicy="no-referrer-when-downgrade">
                    </iframe>
                </div>

                <!-- Carte Téléphone -->
                <a href="tel:+33685680467" class="bento-card bento-phone">
                    <div class="bento-icon">
                        <span class="material-symbols-outlined">phone</span>
                    </div>
                    <div class="bento-content">
                        <span class="bento-label">Téléphone</span>
                        <p class="bento-value">06 85 68 04 67</p>
                        <span class="bento-sub">Lun-Ven, 9h-18h</span>
                    </div>
                </a>

                <!-- Carte Email -->
                <a href="mailto:contact@cottontail-logiciels.fr" class="bento-card bento-email">
                    <div class="bento-icon">
                        <span class="material-symbols-outlined">mail</span>
                    </div>
                    <div class="bento-content">
                        <span class="bento-label">Email</span>
                        <p class="bento-value">contact@cottontail-logiciels.fr</p>
                        <span class="bento-sub">Réponse sous 24h</span>
                    </div>
                </a>

                <!-- Carte Adresse -->
                <a href="https://maps.google.com/?q=5+rue+des+jardiniers+88000+epinal" target="_blank" class="bento-card bento-address">
                    <div class="bento-icon">
                        <span class="material-symbols-outlined">location_on</span>
                    </div>
                    <div class="bento-content">
                        <span class="bento-label">Adresse</span>
                        <p class="bento-value">5 rue des Jardiniers</p>
                        <span class="bento-sub">88000 Épinal, France</span>
                    </div>
                </a>

                <!-- Carte CTA -->
                <div class="bento-card bento-cta">
                    <h3>Prêt à démarrer ?</h3>
                    <p>Discutons de votre projet ensemble</p>
                    <div class="bento-cta-buttons">
                        <a href="tel:+33685680467" class="bento-btn-secondary">
                            <span class="material-symbols-outlined">call</span>
                            Appeler
                        </a>
                        <a href="mailto:contact@cottontail-logiciels.fr" class="bento-btn-secondary">
                            <span class="material-symbols-outlined">mail</span>
                            Email
                        </a>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            © 2023 Cottontail. Tous droits réservés.
        </div>
    </footer>

    <script>
        // Header scroll effect and navigation tracking
        const header = document.getElementById('header');
        const navLinks = document.querySelectorAll('.nav-link');
        const sections = document.querySelectorAll('section[id]');

        // Scroll effect for header
        let lastScroll = 0;
        window.addEventListener('scroll', () => {
            const currentScroll = window.pageYOffset;

            // Add scrolled class for styling
            if (currentScroll > 50) {
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }

            lastScroll = currentScroll;
        });

        // Active navigation based on scroll position
        function updateActiveNav() {
            const scrollPos = window.pageYOffset + 100; // Offset for header height

            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.offsetHeight;
                const sectionId = section.getAttribute('id');

                if (scrollPos >= sectionTop && scrollPos < sectionTop + sectionHeight) {
                    // Update header border color based on section
                    header.setAttribute('data-section', sectionId);

                    navLinks.forEach(link => {
                        link.classList.remove('active');
                        if (link.getAttribute('href') === `#${sectionId}`) {
                            link.classList.add('active');
                        }
                    });
                }
            });
        }

        window.addEventListener('scroll', updateActiveNav);

        // Set initial active section
        updateActiveNav();

        // Mobile Navigation Cube
        const navCube = document.getElementById('navCube');
        const cubeFaces = document.querySelectorAll('.cube-face');
        const sectionOrder = ['hero', 'expertise', 'vision'];
        let currentCubePosition = 0;

        function updateCubePosition(sectionId) {
            const newPosition = sectionOrder.indexOf(sectionId);
            if (newPosition !== -1 && newPosition !== currentCubePosition) {
                currentCubePosition = newPosition;
                navCube.style.transform = `rotateX(${newPosition * 90}deg)`;
            }
        }

        // Update cube when scrolling
        function updateMobileCube() {
            const scrollPos = window.pageYOffset + 100;

            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.offsetHeight;
                const sectionId = section.getAttribute('id');

                if (scrollPos >= sectionTop && scrollPos < sectionTop + sectionHeight) {
                    if (sectionOrder.includes(sectionId)) {
                        updateCubePosition(sectionId);
                    }
                }
            });
        }

        window.addEventListener('scroll', updateMobileCube);

        // Click on cube face to navigate
        cubeFaces.forEach(face => {
            face.addEventListener('click', () => {
                const targetSection = face.getAttribute('data-section');
                const targetElement = document.getElementById(targetSection);

                if (targetElement) {
                    const headerHeight = header.offsetHeight;
                    const targetPosition = targetElement.offsetTop - headerHeight;

                    window.scrollTo({
                        top: targetPosition,
                        behavior: 'smooth'
                    });
                }
            });
        });

        // Initialize cube position
        updateMobileCube();

        // Smooth scroll for navigation links
        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const targetId = link.getAttribute('href').substring(1);
                const targetSection = document.getElementById(targetId);

                if (targetSection) {
                    const headerHeight = header.offsetHeight;
                    const targetPosition = targetSection.offsetTop - headerHeight;

                    window.scrollTo({
                        top: targetPosition,
                        behavior: 'smooth'
                    });
                }
            });
        });

        // Smooth scroll for contact button
        const btnContact = document.querySelector('.btn-contact');
        if (btnContact) {
            btnContact.addEventListener('click', (e) => {
                e.preventDefault();
                const targetId = btnContact.getAttribute('href').substring(1);
                const targetSection = document.getElementById(targetId);

                if (targetSection) {
                    const headerHeight = header.offsetHeight;
                    const targetPosition = targetSection.offsetTop - headerHeight;
                    const startPosition = window.pageYOffset;
                    const distance = targetPosition - startPosition;
                    const duration = 1200; // Durée plus longue pour un scroll plus doux
                    let startTime = null;

                    function easeInOutCubic(t) {
                        return t < 0.5 ? 4 * t * t * t : 1 - Math.pow(-2 * t + 2, 3) / 2;
                    }

                    function animation(currentTime) {
                        if (startTime === null) startTime = currentTime;
                        const timeElapsed = currentTime - startTime;
                        const progress = Math.min(timeElapsed / duration, 1);
                        const ease = easeInOutCubic(progress);

                        window.scrollTo(0, startPosition + distance * ease);

                        if (timeElapsed < duration) {
                            requestAnimationFrame(animation);
                        }
                    }

                    requestAnimationFrame(animation);
                }
            });
        }

        // Carousel functionality
        const carousel = document.getElementById('carousel');
        const dots = document.querySelectorAll('.dot');
        const projectCards = document.querySelectorAll('.project-card');

        function updateDots() {
            if (!carousel) return;
            const containerCenter = carousel.getBoundingClientRect().left + carousel.offsetWidth / 2;
            
            let closestIndex = 0;
            let minDistance = Infinity;

            projectCards.forEach((card, index) => {
                const cardRect = card.getBoundingClientRect();
                const cardCenter = cardRect.left + cardRect.width / 2;
                const distance = Math.abs(containerCenter - cardCenter);
                
                if (distance < minDistance) {
                    minDistance = distance;
                    closestIndex = index;
                }
            });

            dots.forEach((dot, index) => {
                if (index === closestIndex) {
                    dot.classList.add('active');
                } else {
                    dot.classList.remove('active');
                }
            });
        }

        carousel.addEventListener('scroll', updateDots);
        // Initial check
        updateDots();

        function scrollCarousel(direction) {
            const cardWidth = projectCards[0].offsetWidth;
            const gap = 32; // 2rem
            const scrollAmount = cardWidth + gap;
            
            carousel.scrollBy({
                left: direction * scrollAmount,
                behavior: 'smooth'
            });
        }

        function scrollToIndex(index) {
            const targetCard = projectCards[index];
            const targetLeft = targetCard.offsetLeft;
            const containerWidth = carousel.offsetWidth;
            // -16 accounts for padding/margins roughly to center visually in the padded container
            const scrollPos = targetLeft - (containerWidth / 2) + (targetCard.offsetWidth / 2) - 16;

            carousel.scrollTo({
                left: scrollPos,
                behavior: 'smooth'
            });
        }

    </script>
<script type="module" src="/index.tsx"></script>
</body>
</html>
